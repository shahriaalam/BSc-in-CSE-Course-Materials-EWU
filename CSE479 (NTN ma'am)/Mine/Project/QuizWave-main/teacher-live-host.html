<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Live Host</title>
    <link rel="icon" type="image/png" href="./image/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/theme-transitions.css" />
    <link rel="stylesheet" href="css/live.css" />
    <link rel="stylesheet" href="css/navbar.css"/>
  </head>
  <body>
    <main class="container">
      <header class="live-header">
        <div>
          <h1 id="sessionTitle">Live Host</h1>
          <div class="muted" id="quizMeta"></div>
        </div>
        <div class="flex">
          <div class="pill">PIN: <span id="pin" class="num">—</span></div>
        </div>
      </header>

      <section class="grid">
        <section class="card">
          <div class="btn-row">
            <button id="createBtn">Create Session</button>
            <button id="startBtn" disabled>Start Game</button>
            <button id="nextBtn" disabled>Next Question</button>
            <button id="endBtn" disabled>End Game</button>
            <label
              class="flex muted"
              title="Seconds per question (host-paced timer)"
            >
              <span>Sec/Q:</span>
              <input id="qSec" type="number" value="20" min="5" max="120" />
            </label>
            <label
              class="flex muted"
              title="Allow guests without accounts to join"
            >
              <input id="allowGuests" type="checkbox" checked />
              Allow guests
            </label>
          </div>

          <div class="flex">
            <canvas id="qr"></canvas>
            <div>
              <div class="muted">Join URL</div>
              <div id="joinUrl">—</div>
              <div class="muted" style="margin-top: 8px">
                Share the QR or the PIN with students.
              </div>
            </div>
          </div>

          <hr />

          <h2 id="currentQ">No question yet</h2>
          <div class="muted" id="timer"></div>
          <div id="qChoices" class="choices"></div>
          <div id="ansStats" class="muted"></div>
        </section>

        <aside class="card">
          <h3>Participants <span id="pcount" class="num">0</span></h3>
          <ol id="plist"></ol>
          <hr />
          <h3>Scoreboard</h3>
          <div id="board"></div>
        </aside>
      </section>
    </main>
    <footer class="container footer-style">
      © <span id="year"></span> QuizWave
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
    <script src="js/01-supabase-connection.js"></script>

    <script src="js/20-live-host.js"></script>

    <script src="js/04-auth.js"></script>
    <script src="js/site-shell.js"></script>
    <script>
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>
  </body>
</html>
